(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{311:function(e,t,n){var content=n(314);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(150).default)("5fa8c55f",content,!0,{sourceMap:!1})},312:function(e,t,n){(function(e){function n(e,t){for(var n=0,i=e.length-1;i>=0;i--){var r=e[i];"."===r?e.splice(i,1):".."===r?(e.splice(i,1),n++):n&&(e.splice(i,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function filter(e,t){if(e.filter)return e.filter(t);for(var n=[],i=0;i<e.length;i++)t(e[i],i,e)&&n.push(e[i]);return n}t.resolve=function(){for(var t="",r=!1,i=arguments.length-1;i>=-1&&!r;i--){var path=i>=0?arguments[i]:e.cwd();if("string"!=typeof path)throw new TypeError("Arguments to path.resolve must be strings");path&&(t=path+"/"+t,r="/"===path.charAt(0))}return(r?"/":"")+(t=n(filter(t.split("/"),(function(p){return!!p})),!r).join("/"))||"."},t.normalize=function(path){var e=t.isAbsolute(path),o="/"===r(path,-1);return(path=n(filter(path.split("/"),(function(p){return!!p})),!e).join("/"))||e||(path="."),path&&o&&(path+="/"),(e?"/":"")+path},t.isAbsolute=function(path){return"/"===path.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(filter(e,(function(p,e){if("string"!=typeof p)throw new TypeError("Arguments to path.join must be strings");return p})).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var o=r(e.split("/")),l=r(n.split("/")),c=Math.min(o.length,l.length),f=c,i=0;i<c;i++)if(o[i]!==l[i]){f=i;break}var d=[];for(i=f;i<o.length;i++)d.push("..");return(d=d.concat(l.slice(f))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(path){if("string"!=typeof path&&(path+=""),0===path.length)return".";for(var code=path.charCodeAt(0),e=47===code,t=-1,n=!0,i=path.length-1;i>=1;--i)if(47===(code=path.charCodeAt(i))){if(!n){t=i;break}}else n=!1;return-1===t?e?"/":".":e&&1===t?"/":path.slice(0,t)},t.basename=function(path,e){var t=function(path){"string"!=typeof path&&(path+="");var i,e=0,t=-1,n=!0;for(i=path.length-1;i>=0;--i)if(47===path.charCodeAt(i)){if(!n){e=i+1;break}}else-1===t&&(n=!1,t=i+1);return-1===t?"":path.slice(e,t)}(path);return e&&t.substr(-1*e.length)===e&&(t=t.substr(0,t.length-e.length)),t},t.extname=function(path){"string"!=typeof path&&(path+="");for(var e=-1,t=0,n=-1,r=!0,o=0,i=path.length-1;i>=0;--i){var code=path.charCodeAt(i);if(47!==code)-1===n&&(r=!1,n=i+1),46===code?-1===e?e=i:1!==o&&(o=1):-1!==e&&(o=-1);else if(!r){t=i+1;break}}return-1===e||-1===n||0===o||1===o&&e===n-1&&e===t+1?"":path.slice(e,n)};var r="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n(116))},313:function(e,t,n){"use strict";n(311)},314:function(e,t,n){var r=n(149)((function(i){return i[1]}));r.push([e.i,"a{cursor:pointer}",""]),r.locals={},e.exports=r},319:function(e,t,n){"use strict";n.r(t);n(18),n(72),n(312);var r={mounted:function(){this.connectWebsocket()},data:function(){return{loadingSend:!1,loadingConnect:!1,message:"",result:""}},deactivated:function(){this.$destroy(!0)},methods:{sendMessage:function(){var e=this;this.loadingSend=!0,this.$axios.post("/openai/send",{message:this.message}).then((function(t){e.result+=t.data,e.loadingSend=!1})).catch((function(t){e.$Message.error(t),e.loadingSend=!1}))},connectWebsocket:function(){var e=this;if("undefined"!=typeof WebSocket){var t,n=window.document.location.href,r=this.$route.path,o=n.indexOf(r,7),l=n.substring(0,o),c=l.indexOf(":",7);-1!=c&&(l=l.substring(0,c)),l=(l=l.replace("https:","wss:")).replace("http:","ws:"),t=(l="ws://124.221.97.77")+":10881/ws",this.websocket=new WebSocket(t),this.websocket.onopen=function(){e.loadingConnect=!0},this.websocket.onmessage=function(t){try{e.result+=t.data;var textarea=document.getElementById("logTextarea");null!=textarea&&(textarea.scrollTop=textarea.scrollHeight)}catch(e){}},this.websocket.onerror=function(t){e.loadingConnect=!1},this.websocket.onclose=function(t){e.result+=t.data,e.loadingConnect=!1}}else console.log("您的浏览器不支持WebSocket")}}},o=(n(313),n(5)),component=Object(o.a)(r,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"h-panel",staticStyle:{background:"#353740"}},[t("Row",{attrs:{space:10}},[t("Cell",{attrs:{space:10}},[t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.result,expression:"result"}],staticStyle:{width:"100%",height:"100%",minHeight:"900px","background-color":"#353740",color:"#fafafa"},attrs:{id:"logTextarea"},domProps:{value:e.result},on:{input:function(t){t.target.composing||(e.result=t.target.value)}}})]),e._v(" "),t("Cell",{attrs:{space:10,align:"center"}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.message,expression:"message"}],staticStyle:{"background-color":"#353740",color:"#fafafa",width:"600px"},attrs:{type:"text",noBorder:"",placeholder:"Enter发送",disabled:!e.loadingConnect||e.loadingSend,loading:e.loadingSend},domProps:{value:e.message},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.sendMessage.apply(null,arguments)},input:function(t){t.target.composing||(e.message=t.target.value)}}}),e._v("\n                \n            "),t("a",{attrs:{text:!0,"no-border":!0},on:{click:function(t){e.result=""}}},[e._v("清空")]),e._v("\n                \n            "),t("a",{attrs:{disabled:e.loadingConnect,loading:e.loadingConnect},on:{click:e.connectWebsocket}},[e._v("\n                "+e._s(e.loadingConnect?"已连接":"重试")+"\n            ")])]),e._v(" "),t("Cell",{attrs:{space:10}})],1)],1)}),[],!1,null,null,null);t.default=component.exports}}]);