(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{397:function(t,e,n){"use strict";n.r(e);var o={computed:{siderCollapsed:function(){return this.$store.state.menus.siderCollapsed},loginName:function(){return this.$store.state.loginInfo.loginName},searchData:function(){return this.$store.state.menus.searchData}},data:function(){return{data:[{title:"首页",key:"welcome",icon:"h-icon-home"},{title:"查询",key:"search",icon:"h-icon-search"}],val:"",opened:!1,param:[{title:"修改密码",keyId:"password",icon:"h-icon-user"},{divider:!0},{title:"操作手册",keyId:"help",icon:"h-icon-help"},{divider:!0},{title:"退出登录",keyId:"logout",icon:"h-icon-info"}]}},methods:{trigger:function(code,data,t){var e=this;console.log(code),"password"==code?this.$router.push("/sysusers/passwd"):"logout"==code?this.$Confirm("确定注销登录？","提示").then((function(){e.$store.commit("LOGIN_FLAG",!1),e.$store.commit("menuData",[]),e.$axios.delete("/logout"),location.href="/"})):"help"==code&&window.open("操作手册.pdf")},change:function(data){data&&(this.$store.commit("current",data.keyId),this.$store.commit("title",data.title),this.$router.push(data.keyId))},siderChange:function(){this.$store.commit("siderCollapsed")},copyText:function(t){console.log(t.target.innerText),this.$Clipboard({text:t.target.innerText})}}},r=n(2),c=Object(r.a)(o,(function(){var t=this,e=t._self._c;return e("HHeader",{attrs:{theme:"white"}},[e("Row",[e("Cell",{attrs:{width:"1"}},[e("Button",{attrs:{icon:"h-icon-menu",size:"l",noBorder:""},on:{click:t.siderChange}})],1),t._v(" "),e("Cell",{attrs:{width:"19"}}),t._v(" "),e("Cell",{attrs:{width:"4",align:"right"}},[e("DropdownMenu",{attrs:{datas:t.param,"class-name":"h-text-dropdown",width:150},on:{click:t.trigger}},[e("span",[t._v(t._s(t.loginName))])])],1)],1)],1)}),[],!1,null,null,null).exports,l={computed:{siderCollapsed:function(){return this.$store.state.menus.siderCollapsed},current:function(){return this.$store.state.menus.current},data:function(){return this.$store.state.menus.data}},mounted:function(){var t=this;this.$store.state.LOGIN_FLAG&&this.data&&0==this.data.length&&this.$axios.post("/sysmenus/home").then((function(e){t.initSearch(e.data),t.$store.commit("searchData",t.searchData),t.$store.commit("menuData",e.data)}))},updated:function(){this.$refs.menus.select(this.current)},data:function(){return{searchData:[]}},watch:{$route:function(){var path=$nuxt.$route.path;this.$store.state.menus.current==path&&this.$refs.menus.select(path)}},methods:{menuSelect:function(data){this.$store.commit("current",data.key),this.$store.commit("title",data.title),this.$router.push(data.key),this.$store.commit("menuCache",{url:data.key,title:data.title})},initSearch:function(data){var t=this;data.forEach((function(e){e.children.length>0?(t.searchData.push({title:e.title,isLabel:!0}),t.initSearch(e.children)):t.searchData.push({keyId:e.key,title:e.title})}))}}},h={components:{PaasMenu:Object(r.a)(l,(function(){var t=this;return(0,t._self._c)("Menu",{ref:"menus",attrs:{mode:"horizontal",className:"h-menu-white",datas:t.data},on:{select:t.menuSelect}})}),[],!1,null,null,null).exports,PaasHeader:c},computed:{siderCollapsed:function(){return this.$store.state.menus.siderCollapsed},loginName:function(){return this.$store.state.loginInfo.loginName},searchData:function(){return this.$store.state.menus.searchData}},data:function(){return{val:"",opened:!1,param:[{title:"修改密码",keyId:"password",icon:"h-icon-user"},{divider:!0},{title:"退出登录",keyId:"logout",icon:"h-icon-error"}]}},methods:{trigger:function(code,data,t){var e=this;console.log(code),"password"==code?this.$router.push("/sysusers/passwd"):"logout"==code&&this.$Confirm("确定注销登录？","提示").then((function(){e.$store.commit("LOGIN_FLAG",!1),e.$store.commit("menuData",[]),e.$axios.delete("/logout"),location.href="/"}))},change:function(data){data&&(this.$store.commit("current",data.keyId),this.$store.commit("title",data.title),this.$router.push(data.keyId))},siderChange:function(){this.$store.commit("siderCollapsed")},copyText:function(t){console.log(t.target.innerText),this.$Clipboard({text:t.target.innerText})}}},d=Object(r.a)(h,(function(){var t=this,e=t._self._c;return e("div",[e("Layout",[e("Layout",{attrs:{headerFixed:!0}},[e("HHeader",{attrs:{theme:"white"}},[e("Row",[e("Cell",{attrs:{width:"18"}},[e("PaasMenu")],1),t._v(" "),e("Cell",{attrs:{width:"6",align:"right"}},[e("DropdownMenu",{attrs:{datas:t.param,"class-name":"h-text-dropdown",width:150},on:{click:t.trigger}},[e("span",[t._v(t._s(t.loginName))])])],1)],1)],1),t._v(" "),e("Content",[e("nuxt-child",{attrs:{"keep-alive":""}})],1)],1)],1)],1)}),[],!1,null,null,null);e.default=d.exports}}]);